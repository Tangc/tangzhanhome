分享 D44E57
1、spec驱动的vibecoding实践
spec驱动，是解决vibecoding中 AI随机性强 和 复杂项目改动困难 问题的方式之一。
用软件工程的方式来驱动AI进行功能开发。
amazon的CodeAgent产品 kiro ，的特点就是基于 Spec 驱动开发，每次改动之前都会先生成一份项目的 Spec。
让AI的改动对开发者来说是 **明确**，**可控**，**稳定**，**高质量**的。
体验会类似于在cursor rule中写的workflow提示词，让AI每次改动都按照一定的流程进行。
本质上的作用是两点：
- 信息增量，完善每次和大模型交互时的信息，比如会带上项目的设计文档、技术规范等
- 上下文记忆，每次和大模型交互时，都会尽量带上项目的信息，避免“遗忘”，“矛盾”。
以此实现对复杂项目的 Vibe Coding

2、详细用法
Agent环境，ClaudeCode
spec驱动的插件 spec-workflow-mcp，作者 Pimzino
流程：
- 安装 spec workflow mcp
{
  "mcpServers": {
    "spec-workflow": {
      "command": "npx",
      "args": ["-y", "@pimzino/spec-workflow-mcp@latest", "/path/to/your/project"]
    }
  }
}
claude code 的mcp设置
claude mcp add spec-workflow npx @pimzino/spec-workflow-mcp@latest /path/to/your/project


- 安装 VSCode 的插件
插件市场搜 Spec Workflow MCP，作者也是 Pimzino

- 初始化项目的指导文档
create-steering-doc ，会根据项目代码生成 产品、技术、结构 三个文档。后续所有流程都会参考这几个文档。
效果类似于 claudecode 的 /init 命令。

- 围绕规范(Spec)展开生命周期
spec-create ${spac-name} "description"
给这次改动生成规范，给每次改动命名，并且围绕它展开生命周期。
包括 需求(用户故事+验收标准)、设计(技术架构+图标)、任务(原子化拆分)、执行(完成改动)
每个步骤会生成对应文档，步骤之间还需要用户先阅读文档，再进行审批 approve，可以通过命令，或者在 dashboard 上点审批。

项目历史上所有的 spec 串联在一起，实际上就行成了项目的复现路径和积累下了项目的所有知识。
这样大模型在每次修改项目的时候，只要上下文能容纳，都能对项目有完整的理解，不会出现偏差、随机、错乱、遗漏的问题


3、总结
- 开发体验，开发者更轻松了。过去我也自己写spec，基于spec驱动的vibecoding效果会更准确，但没有到这个workflow的细致程度。
- 开发成本，比我自己写spec开发，要贵5倍至少(opus也就比cluade4贵5倍，两个一起开着岂不是25倍..)。
- 适合，credit充足 || 有不差钱套餐 || 项目复杂度自己cover不住(本质上像是雇了一个资深的软件团队)。
- 裸用 CodeAgent = 雇佣了junior的工程师，套用 workflow 后 = 雇佣了一队资深工程师。
