# 大家好，我是唐斩，这是第94天第111篇分享。

## 1、Agent架构视角
Agent因为底层由LLM驱动，所以和互联网应用的特点全然不同。要解决的问题不同，架构视角也就完全不同。
- 互联网应用的特点是短平快，稳定，和确定。追求请求的快速响应，追求响应时间的稳定，追求返回结果的确定性。基于规则，稳定的输入有稳定的输出。
- Agent应用的特点几乎是与之相反的长，波动和慢，不稳定，和不确定。追求服务的长期运行，崩溃恢复，结果的流式返回。基于LLM，流程可调度，类似工作流。

Agent的架构设计思路是，以ReAct为原子动作，以有向图为思考流程，以结构化上下文为信息载体。
- ReAct 中，以 LLM 为推理引擎，以 Tools 封装为动作方式。SubAgent也可定义为 Tool，因此允许 Tool 嵌套。
- 有向图 中，可循环，可回退，但必须有结束点。最新的Agent设计甚至会允许部分节点并发执行，比如manus的wideSearch，或者Cursor的multiAgent模式，异曲同工。
- 结构化上下文中，设计好上下文的数据结构，每部分信息占多少空间。快满时要压缩，可借助外存换进换出。注意模型上下文不是越长越好，长上下文依然会有腐烂问题(模型记不住或效果变差)。


参考内容
https://mp.weixin.qq.com/s/tewBKHgbyrjxUjAOmkXI7A
https://mp.weixin.qq.com/s/OtDWk8aZ6ok54SS7EF6ybg
https://mp.weixin.qq.com/s/nvcetSE8-GZo2RDVwEkbzg

## 2、Atlas补充
今天OpenAI公布了Atlas的技术架构，只为打脸网友说他是套壳浏览器，看完架构发现，确实不是套壳浏览器，这就不是浏览器，只用native code把浏览器用tools形式塞进来的 Agent。
具体可以看这个架构图，画的很清楚，一眼就你能明白。

所以说如果软件世界真的有银弹，就是分层架构。凡是解决不了的问题，就再加一层。
如果在当前世界无法掌控全局，就往上一层走，比如这里就是上层atlas agent来操作 浏览器层，以实现Agent的browser use效果。

看来 chromium 的复杂程度，就算是 chrome 团队的人来了，也不改直接进去改，而是选择绕过。这算是走捷径，还是优秀的架构设计(balance得好)。google会不会已经有团队在走困难路线，升级chromium的架构，让它成真正的云原生浏览器了呢？

或者说，Agent 和 浏览器，就是应该有这样明确的边界。Agent负责智能，浏览器负责渲染网页。
以及如前分享，url是网页的载体，网页是信息的聚合，当Agent能直接从LLM拿到信息时，中间的浏览器、url、网页都不再需要了。

这次chromium和Atlas结合的方案，其实就是给Agent加了一个Tool，只是绑定的更深度，技术上更定制一些。那么，同样的思路，如果套用在 OS 上，是不是绑定一个OS给Agent，就能说真正的AgentOS诞生了。

对OpenAI来说，如果是像分享技术，那是很有启发。如果是想应对套壳的反馈，那抓紧迭代才是正事。比如把背后的浏览器进程做成资源池，是否就可以接到ChatGPT里了，Atlas这个客户端真有必要单独存在吗？
对使用者来说，可以等着出现杀手级应用时再去接入，现在就用浏览器扩展好了，比如github上的 nanobrowser 这样的插件就很够用了。

插件方案，tool接入方案，改底层浏览器方案，从架构角度看，应该怎么权衡？

参考内容
https://openai.com/index/building-chatgpt-atlas/
